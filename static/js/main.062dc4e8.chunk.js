(this["webpackJsonpchat-frontend"]=this["webpackJsonpchat-frontend"]||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),s=n(11),o=n.n(s),i=(n(96),n(83)),l=n(163),d=(n(97),n(57)),b=n(15),u=n.n(b),j=n(25),h=n(13),p=n(63),x=n(12),m=n(23),g=n(40),f=(n(99),n(147)),O=n(162),y=n(150),w=n(111),v=n(164),k=n(153),C=n(76),S=n.n(C),N=n(45),I=n.n(N),F=Object(f.a)((function(e){return{paper:{color:"white",backgroundColor:"#20b5a2",maxWidth:"100%",width:"fit-content",display:"inlineBlock"},text:{paddingLeft:"8px",paddingRight:"8px",fontSize:14}}})),L=function(e){var t=F();return Object(a.jsx)("div",{children:e.currentUser.username!==e.user.username?Object(a.jsxs)(y.a,{container:!0,item:!0,direction:"row",xs:12,style:{marginBottom:"1%"},children:[Object(a.jsx)(y.a,{item:!0,xs:0,style:{margin:5,marginLeft:"2%",marginRight:0,padding:0},children:Object(a.jsx)(I.a,{style:{fill:e.user.icon,backgroundColor:e.user.background,borderRadius:"15px"}})}),Object(a.jsxs)(y.a,{item:!0,xs:5,style:{margin:5,marginLeft:10,padding:0},children:[Object(a.jsx)(w.a,{className:t.paper,elevation:3,style:{backgroundColor:"#546e7a"},children:Object(a.jsx)("div",{className:t.text,children:e.message.text})}),Object(a.jsx)(d.a,{variant:"subtitle2",style:{float:"left",font:"5",color:"#2bbd7e"},children:e.user.username})]})]}):Object(a.jsxs)(y.a,{container:!0,item:!0,direction:"row",xs:12,style:{marginBottom:"1%",marginLeft:"51%"},children:[Object(a.jsxs)(y.a,{item:!0,xs:5,style:{margin:5,marginLeft:10,padding:0},children:[Object(a.jsx)(w.a,{className:t.paper,elevation:3,style:{float:"right"},children:Object(a.jsx)("div",{className:t.text,children:e.message.text})}),Object(a.jsx)("br",{}),Object(a.jsx)(d.a,{variant:"subtitle2",style:{float:"right",font:"5",color:"#2bbd7e"},children:e.user.username})]}),Object(a.jsx)(y.a,{item:!0,xs:0,style:{margin:5,marginLeft:"2%",marginRight:0,padding:0},children:Object(a.jsx)(I.a,{style:{fill:e.user.icon,backgroundColor:e.user.background,borderRadius:"15px"}})})]})})},T=Object(f.a)((function(e){return{label:{color:"white"},focusedLabel:{color:"#2bbd7e"},text:{color:"#FFFFFF"}}})),P=function(e){var t=T(),n=Object(r.useRef)(null);return Object(r.useEffect)((function(){n.current.scrollIntoView({behavior:"smooth"})}),[e.messages]),Object(a.jsxs)(y.a,{container:!0,item:!0,direction:"row",alignItems:"top",xs:12,className:e.classes.chatSpace,children:[Object(a.jsx)(y.a,{item:!0,xs:12,children:Object(a.jsx)(d.a,{variant:"h4",style:{textAlign:"center",color:"#FFFFFF"},children:Object(a.jsxs)("i",{children:[" ",e.channel.name," "]})})}),Object(a.jsx)(y.a,{item:!0,xs:12,children:Object(a.jsxs)(w.a,{elevation:15,className:e.classes.paper,style:{height:window.innerHeight/1.5,overflowY:"auto",overflowX:"hidden"},children:[e.messages.sort((function(e,t){return e.data.id-t.data.id})).map((function(t){return Object(a.jsx)(L,{message:t.data,user:t.user,currentUser:e.currentUser},t.data.id)})),Object(a.jsx)("div",{ref:n})]})}),Object(a.jsx)(y.a,{item:!0,xs:12,children:Object(a.jsx)(w.a,{elevation:15,className:e.classes.paper,style:{float:"center",width:"auto"},children:Object(a.jsxs)("form",{autoComplete:"off",className:e.classes.form,onSubmit:function(t){t.preventDefault(),""==!t.target[0].value&&(e.makeMessage(t.target[0].value),t.currentTarget.reset())},children:[Object(a.jsx)(v.a,{placeholder:"",id:"outlined-basic",label:"Send Message",variant:"outlined",InputLabelProps:{classes:{root:t.label,focused:t.focusedLabel}},InputProps:{className:t.text},style:{color:"white",width:"94%"}}),Object(a.jsx)(k.a,{type:"submit",color:"secondary","aria-label":"send",style:{align:"center"},children:Object(a.jsx)(S.a,{fontSize:"large",style:{fill:"#2bbd7e"}})})]})})})]})},R=n(10),B=n(4),U=n(20),z=n(166),K=n(155),H=n(156),A=n(152),J=n(154),W=n(158),D=n(157),V=n(77),E=n.n(V),M=n(79),X=n.n(M),_=n(78),G=n.n(_),Y=n(159),q=n(160),Q=n(161),Z=n(81),$=n.n(Z),ee=n.p+"static/media/Logo.bb2c4dae.png",te=n(80),ne=n.n(te),ae=n(82),re=n.n(ae),ce=180,se=Object(f.a)((function(e){var t;return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#29434e",color:"#FFFFFF"},appBarShift:{marginLeft:ce,width:"calc(100% - ".concat(ce,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36,"&:hover":{color:"white"}},hide:{display:"none",color:"white"},drawer:{width:ce,flexShrink:0,whiteSpace:"nowrap",backgroundColor:"#546e7a",color:"white"},drawerOpen:{width:ce,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),backgroundColor:"#546e7a",color:"white"},drawerClose:(t={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(R.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)+1}),Object(R.a)(t,"backgroundColor","#546e7a"),Object(R.a)(t,"color","white"),t),list:{color:"white","&:hover":{color:"#29434e"}},listContainer:{overflow:"auto"},login:{color:"#FFFFFF",backgroundColor:"#29434e","&:hover":{backgroundColor:"#2bbd7e"}},settings:{overflow:"auto",color:"white"}}})),oe=function(e){var t,n,r=se(),s=Object(U.a)(),o=c.a.useState(!1),i=Object(h.a)(o,2),l=i[0],b=i[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)(J.a,{}),Object(a.jsx)(K.a,{position:"fixed",className:Object(B.a)(r.appBar,Object(R.a)({},r.appBarShift,l)),style:{},children:Object(a.jsxs)(H.a,{style:{justifyContent:"space-between"},children:[Object(a.jsx)(k.a,{color:"inherit","aria-label":"open drawer",onClick:function(){b(!0)},edge:"start",className:Object(B.a)(r.menuButton,Object(R.a)({},r.hide,l)),children:Object(a.jsx)(E.a,{})}),Object(a.jsx)(y.a,{container:!0,direction:"column",xs:5,children:Object(a.jsxs)(y.a,{item:!0,xs:3,style:l?{marginLeft:"0"}:{marginLeft:"40%"},children:[Object(a.jsx)(d.a,{variant:"inherit",style:{float:"left",fontSize:"18px",color:"#2bbd7e"},children:Object(a.jsx)("i",{children:"Kool"})}),Object(a.jsx)("img",{src:ee,style:{width:"40%"},alt:"logo"}),Object(a.jsx)(d.a,{variant:"inherit",style:{fontSize:"18px",color:"#9bffff"},children:Object(a.jsx)("i",{children:"Khat"})})]})}),Object(a.jsx)(D.a,{onClick:e.handleLogout,className:r.login,children:"logout"})]})}),Object(a.jsxs)(z.a,{variant:"permanent",className:Object(B.a)(r.drawer,(t={},Object(R.a)(t,r.drawerOpen,l),Object(R.a)(t,r.drawerClose,!l),t)),classes:{paper:Object(B.a)((n={},Object(R.a)(n,r.drawerOpen,l),Object(R.a)(n,r.drawerClose,!l),n))},children:[Object(a.jsx)("div",{className:r.toolbar,children:Object(a.jsx)(k.a,{onClick:function(){b(!1)},children:"rtl"===s.direction?Object(a.jsx)(G.a,{style:{color:"white"}}):Object(a.jsx)(X.a,{style:{color:"white"}})})}),Object(a.jsx)(W.a,{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(W.a,{}),Object(a.jsx)("div",{style:{textAlign:"center",backgroundColor:"#29434e"},children:"Speaking To"}),Object(a.jsx)(W.a,{}),Object(a.jsx)(A.a,{className:r.listContainer,style:{maxHeight:"25%"},children:e.users.map((function(e){return Object(a.jsxs)(Y.a,{button:!0,children:[Object(a.jsx)(q.a,{className:r.list,children:Object(a.jsx)(I.a,{style:{fill:e.icon,backgroundColor:e.background,borderRadius:"15px"}})}),Object(a.jsx)(Q.a,{primary:e.username})]},e.username)}))}),Object(a.jsx)(W.a,{}),Object(a.jsx)("div",{style:{textAlign:"center",backgroundColor:"#29434e"},children:"Rooms"}),Object(a.jsx)(W.a,{}),Object(a.jsxs)(A.a,{className:r.listContainer,style:{height:"40%"},children:[Object(a.jsxs)(Y.a,{button:!0,onClick:function(){return e.handleNewChannelOpen()},children:[Object(a.jsx)(q.a,{children:Object(a.jsx)(ne.a,{style:{fill:"#2bbd7e"}})}),Object(a.jsx)(Q.a,{primary:"New Room"})]}),e.channels.map((function(t){return Object(a.jsxs)(Y.a,{button:!0,onClick:function(){return e.setChannel(t)},children:[Object(a.jsx)(q.a,{className:r.list,children:Object(a.jsx)($.a,{})}),Object(a.jsx)(Q.a,{primary:t.name})]},t.name)}))]}),Object(a.jsx)(W.a,{}),Object(a.jsx)("div",{style:{textAlign:"center",backgroundColor:"#29434e"},children:"Settings"}),Object(a.jsx)(W.a,{}),Object(a.jsx)(A.a,{className:r.settings,children:Object(a.jsxs)(Y.a,{button:!0,onClick:function(){e.handleProfileOpen()},children:[Object(a.jsx)(q.a,{children:Object(a.jsx)(re.a,{style:{fill:"#9bffff"}})}),Object(a.jsx)(Q.a,{primary:"Change Profile"})]})})]})]})},ie=n(165),le=n.p+"static/media/loginbackground.47009031.png",de=Object(f.a)((function(e){return{label:{color:"black",width:"100%"},focusedLabel:{color:"black"},modal:{width:"30%",maxWidth:"100vw",maxHeight:"100%",position:"fixed",top:"25%",left:"35%",overflow:"auto",height:"50%",background:"whitesmoke",backgroundImage:"url(".concat(le,")"),backgroundSize:"auto",border:"3px solid white",borderRadius:"10%"}}})),be=function(e){var t=de();return Object(a.jsx)("div",{className:t.modal,children:Object(a.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){e.createNewChannel(t)},children:Object(a.jsxs)(y.a,{container:!0,direction:"column",xs:12,children:[Object(a.jsx)(y.a,{container:!0,item:!0,xs:12,style:{margin:"1%"},direction:"row",children:Object(a.jsx)("img",{src:ee,style:{width:"20%",marginLeft:"17px"},alt:"logo"})}),Object(a.jsx)(y.a,{item:!0,xs:12,style:{margin:"1%",padding:"10px",paddingTop:"0px"},children:Object(a.jsx)(v.a,{placeholder:"",id:"standard-basic",label:"Room Name",InputLabelProps:{classes:{root:t.label,focused:t.focusedLabel}}})}),Object(a.jsx)(y.a,{item:!0,xs:12,style:{margin:"3%",padding:"10px",paddingTop:"0"},children:Object(a.jsx)(D.a,{type:"submit",style:{background:"#2bbd7e"},children:"Make ChatRoom"})})]})})})},ue=Object(f.a)((function(e){return{label:{color:"black",width:"100%"},focusedLabel:{color:"black"},modal:{width:"30%",maxWidth:"100vw",maxHeight:"100%",position:"fixed",top:"25%",left:"35%",overflow:"auto",height:"50%",background:"whitesmoke",backgroundImage:"url(".concat(le,")"),backgroundSize:"auto",border:"3px solid white",borderRadius:"10%"}}})),je=function(e){var t=ue();return Object(a.jsx)("div",{className:t.modal,children:Object(a.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){e.changeProfile(t)},children:Object(a.jsxs)(y.a,{container:!0,direction:"column",xs:12,children:[Object(a.jsx)(y.a,{container:!0,item:!0,xs:12,style:{margin:"1%"},direction:"row",children:Object(a.jsx)("img",{src:ee,style:{width:"20%",marginLeft:"17px"},alt:"logo"})}),Object(a.jsx)(y.a,{item:!0,xs:12,style:{margin:"1%",padding:"10px",paddingTop:"0px"},children:Object(a.jsx)(v.a,{placeholder:"name or hex",id:"standard-basic",label:"Icon color",InputLabelProps:{classes:{root:t.label,focused:t.focusedLabel}}})}),Object(a.jsx)(y.a,{item:!0,xs:12,style:{margin:"1%",padding:"10px",paddingTop:"0px"},children:Object(a.jsx)(v.a,{placeholder:"name or hex",id:"standard-basic",label:"Icon background color",InputLabelProps:{classes:{root:t.label,focused:t.focusedLabel}}})}),Object(a.jsxs)(y.a,{item:!0,xs:12,style:{margin:"3%",padding:"10px",paddingTop:"0"},children:[Object(a.jsx)(D.a,{type:"submit",style:{background:"#2bbd7e"},children:"save changes"}),Object(a.jsx)("br",{}),"Refresh page for changes"]})]})})})},he=Object(i.a)({palette:{primary:{main:"#000000"},secondary:{main:"#000000"}}}),pe=Object(f.a)((function(e){return{root:{background:"#819ca9",margin:0,padding:0,border:0,maxHeight:"100%",height:window.innerHeight,flexGrow:1,display:"flex"},paper:{background:"#29434e",margin:5,padding:0,border:0},container:{width:"full",margin:0,padding:10,paddingLeft:20,paddingRight:20,border:0,align:"center"},form:{align:"center"},info:{background:"#819ca9"},chatSpace:{background:"#819ca9"},toolbar:Object(g.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),xe=function(e){var t="wss://stormy-savannah-56656.herokuapp.com/cable",n=pe(),c=Object(r.useState)([]),s=Object(h.a)(c,2),o=s[0],i=s[1],d=Object(r.useState)({channel:{},messages:[],users:[]}),b=Object(h.a)(d,2),p=b[0],x=b[1],f=Object(r.useState)(!1),w=Object(h.a)(f,2),v=w[0],k=w[1],C=Object(r.useState)(!1),S=Object(h.a)(C,2),N=S[0],I=S[1],F=function(e,t){var n=new WebSocket(e);return n.onopen=function(e){var a={id:t,channel:"ChannelChannel"},r=JSON.stringify({command:"subscribe",identifier:JSON.stringify(a)});n.send(r)},n},L=function(){k(!1)},T=function(){I(!1)},R=function(e){var t=e.data,n=JSON.parse(t);"ping"!==n.type&&n.message&&x((function(e){return Object(g.a)(Object(g.a)({},e),{},{messages:[].concat(Object(m.a)(e.messages),[n.message.message_info])})}))},B=function(){var t=Object(j.a)(u.a.mark((function t(){var n,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{Authentication:"Bearer ".concat(localStorage.getItem("token"))}},t.next=3,fetch("https://stormy-savannah-56656.herokuapp.com/login/user",n);case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,e.setCurrentUser(r.user);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://stormy-savannah-56656.herokuapp.com/channels/".concat(localStorage.getItem("channelId")));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n.users),n&&x((function(e){return Object(g.a)(Object(g.a)({},e),{},{channel:n.channel,messages:n.message_info,users:n.users})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e){var n=e;n.map((function(e){localStorage.setItem("channelId",n[0].id),F(t,e.id).onmessage=function(e){R(e)}}))};return Object(r.useEffect)((function(){localStorage.getItem("token")&&B();var e=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,void fetch("https://stormy-savannah-56656.herokuapp.com/channels").then((function(e){return e.json()})).then(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:z(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]),Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)(oe,{handleNewChannelOpen:function(){k(!0)},handleLogout:function(){localStorage.removeItem("token"),e.setCurrentUser(null),e.setToken(!1)},channels:o,users:p.users,setChannel:function(e){localStorage.setItem("channelId",e.id),U()},handleProfileOpen:function(){I(!0)}}),Object(a.jsxs)("main",{className:n.content,children:[Object(a.jsx)("div",{className:n.toolbar}),Object(a.jsx)(O.a,{className:n.container,maxWidth:"xl",children:Object(a.jsx)(y.a,{container:!0,direction:"row",children:Object(a.jsx)(P,{classes:n,makeMessage:function(e){localStorage.getItem("token")?fetch("https://stormy-savannah-56656.herokuapp.com/messages",{method:"POST",headers:{"Content-Type":"application/json",Authentication:"bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({message:e,channel_id:localStorage.getItem("channelId")})}):alert("you need to sign in")},messages:p.messages,currentUser:e.currentUser,channel:p.channel})})})]}),Object(a.jsx)(ie.a,{open:v,onClose:L,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(a.jsx)(l.a,{theme:he,children:Object(a.jsx)(be,{createNewChannel:function(e){e.preventDefault(),fetch("https://stormy-savannah-56656.herokuapp.com/channels",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.target[0].value})}).then((function(e){return e.json()})).then(function(){var e=Object(j.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("failed"!==n){e.next=4;break}alert("Could not create channel"),e.next=11;break;case 4:return F(t,n.id).onmessage=function(e){R(e)},e.next=8,i((function(e){return[].concat(Object(m.a)(e),[n])}));case 8:localStorage.setItem("channelId",n.id),U(),L();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})})}),Object(a.jsx)(ie.a,{open:N,onClose:T,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(a.jsx)(l.a,{theme:he,children:Object(a.jsx)(je,{changeProfile:function(t){t.preventDefault();var n={method:"PATCH",headers:{Authentication:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({background:t.target[1].value,icon:t.target[0].value})};fetch("https://stormy-savannah-56656.herokuapp.com/users/".concat(e.currentUser.id),n).then((function(e){return e.json()})).then(function(){var t=Object(j.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.auth){t.next=7;break}return t.next=3,e.setCurrentUser(n.user);case 3:T(),console.log(n),t.next=8;break;case 7:alert(n.info);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}})})})]})},me=Object(f.a)((function(e){return{label:{color:"black",width:"100%"},focusedLabel:{color:"black"},button:{"&:hover":{backgroundColor:"#2bbd7e",color:"white"}}}})),ge=function(e){var t=me();return Object(a.jsx)("div",{className:e.classes.modal,style:{borderRadius:"10%"},children:Object(a.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){e.login(t)},children:Object(a.jsxs)(y.a,{container:!0,direction:"column",xs:12,children:[Object(a.jsx)(y.a,{container:!0,item:!0,xs:12,style:{margin:"1%"},direction:"row",children:Object(a.jsx)("img",{src:ee,style:{width:"20%",marginLeft:"17px"},alt:"logo"})}),Object(a.jsx)(y.a,{item:!0,xs:12,style:{margin:"1%",padding:"10px",paddingTop:"0px"},children:Object(a.jsx)(v.a,{placeholder:"",id:"standard-basic",label:"Username",InputLabelProps:{classes:{root:t.label,focused:t.focusedLabel}}})}),Object(a.jsx)(y.a,{item:!0,xs:12,style:{margin:"1%",padding:"10px",paddingTop:"0px"},children:Object(a.jsx)(v.a,{id:"standard-password-input",label:"Password",type:"password",autoComplete:"current-password",InputLabelProps:{classes:{root:t.label,focused:t.focusedLabel}}})}),Object(a.jsx)(y.a,{item:!0,xs:12,style:{margin:"3%",padding:"10px",paddingTop:"0"},children:Object(a.jsx)(D.a,{type:"submit",className:t.button,children:"Login"})})]})})})},fe=Object(f.a)((function(e){return{label:{color:"black",width:"100%"},focusedLabel:{color:"#22d5db"},button:{"&:hover":{backgroundColor:"#22d5db",color:"black"}}}})),Oe=function(e){var t=fe();return Object(a.jsx)("div",{className:e.classes.modal,style:{borderRadius:"10%"},children:Object(a.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){e.signup(t)},children:Object(a.jsxs)(y.a,{container:!0,direction:"column",xs:12,children:[Object(a.jsx)(y.a,{container:!0,item:!0,xs:12,style:{margin:"1%"},direction:"row",children:Object(a.jsx)("img",{src:ee,style:{width:"20%",marginLeft:"17px"},alt:"logo"})}),Object(a.jsx)(y.a,{item:!0,xs:12,style:{margin:"1%",padding:"10px",paddingTop:"0px"},children:Object(a.jsx)(v.a,{placeholder:"",id:"standard-basic",label:"Username",InputLabelProps:{classes:{root:t.label,focused:t.focusedLabel}}})}),Object(a.jsx)(y.a,{item:!0,xs:12,style:{margin:"1%",padding:"10px",paddingTop:"0px"},children:Object(a.jsx)(v.a,{id:"standard-password-input",label:"Password",type:"password",autoComplete:"current-password",InputLabelProps:{classes:{root:t.label,focused:t.focusedLabel}}})}),Object(a.jsx)(y.a,{item:!0,xs:12,style:{margin:"3%",padding:"10px",paddingTop:"0"},children:Object(a.jsx)(D.a,{type:"submit",className:t.button,children:"Signup"})})]})})})},ye=(n.p,n.p,n.p+"static/media/bubbles.2413ca8e.png"),we=Object(i.a)({palette:{primary:{main:"#000000"},secondary:{main:"#000000"}}}),ve=Object(f.a)((function(e){return{root:{overflowY:"auto",overflowX:"hidden"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"#29434e",color:"#FFFFFF"},list:{color:"white","&:hover":{color:"#29434e"}},login:{color:"#FFFFFF",backgroundColor:"#29434e","&:hover":{backgroundColor:"#2bbd7e"}},signUp:{color:"#FFFFFF",backgroundColor:"#29434e","&:hover":{backgroundColor:"#22d5db",color:"black"}},modal:{width:"30%",maxWidth:"100vw",maxHeight:"100%",position:"fixed",top:"25%",left:"35%",overflow:"auto",height:"50%",background:"whitesmoke",backgroundImage:"url(".concat(le,")"),backgroundSize:"auto",border:"3px solid white"},container:{margin:"0",padding:"0",width:"full",maxWidth:"xl",backgroundColor:"whitesmoke"},banner:{width:"100%",color:"#9bffff",height:window.innerHeight/1.5,borderRadius:"0 0 100% 100%",backgroundImage:"url(".concat(ye,")"),backgroundSize:"100%"},overBanner:{backgroundColor:"#29434e",width:"100%",color:"#9bffff",height:window.innerHeight/1.5,borderRadius:"0 0 100% 100%",backgroundSize:"100%"},body:{height:window.innerHeight},extra:{height:"400px"}}})),ke=function(e){var t=ve(),n=Object(r.useState)(!1),c=Object(h.a)(n,2),s=c[0],o=c[1],i=Object(r.useState)(!1),b=Object(h.a)(i,2),u=b[0],j=b[1],p=function(){o(!1)},x=function(){j(!1)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(K.a,{position:"fixed",className:Object(B.a)(t.appBar),children:Object(a.jsxs)(H.a,{style:{justifyContent:"space-between"},children:[Object(a.jsx)(y.a,{container:!0,xs:5,direction:"row",children:Object(a.jsxs)(y.a,{item:!0,xs:3,direction:"column",children:[Object(a.jsx)(d.a,{variant:"inherit",style:{float:"left",fontSize:"18px",color:"#2bbd7e"},children:Object(a.jsx)("i",{children:"Kool"})}),Object(a.jsx)("img",{src:ee,style:{width:"40%"},alt:"logo"}),Object(a.jsx)(d.a,{variant:"inherit",style:{fontSize:"18px",color:"#9bffff"},children:Object(a.jsx)("i",{children:"Khat"})})]})}),Object(a.jsxs)(y.a,{item:!0,children:[Object(a.jsx)(D.a,{onClick:function(){j(!0)},className:t.signUp,children:"Sign up"}),Object(a.jsx)(D.a,{onClick:function(){o(!0)},className:t.login,children:"Login"})]})]})}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)(O.a,{className:t.container,maxWidth:"xl",children:[Object(a.jsx)("div",{className:t.overBanner,children:Object(a.jsxs)("div",{className:t.banner,children:[Object(a.jsx)("br",{}),Object(a.jsx)(y.a,{container:!0,xs:12,direction:"row",children:Object(a.jsxs)(y.a,{item:!0,xs:12,direction:"column",children:[Object(a.jsx)(d.a,{variant:"h1",style:{marginLeft:"-20%",color:"#2bbd7e"},children:Object(a.jsx)("i",{children:"Kool"})}),Object(a.jsx)("img",{src:ee,style:{marginLeft:"42%",width:"15%"},alt:"logo"}),Object(a.jsx)(d.a,{variant:"h1",style:{marginRight:"-20%",color:"#9bffff"},children:Object(a.jsx)("i",{children:"Khat"})})]})})]})}),Object(a.jsx)("div",{className:t.body}),Object(a.jsx)(y.a,{container:!0,className:t.extra,children:Object(a.jsx)(y.a,{item:!0,children:Object(a.jsx)(w.a,{style:{height:"400px"},children:"yo"})})}),Object(a.jsx)(y.a,{container:!0,children:Object(a.jsx)(y.a,{item:!0})})]}),Object(a.jsx)(ie.a,{open:s,onClose:p,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(a.jsx)(l.a,{theme:we,children:Object(a.jsx)(ge,{classes:t,login:e.login,handleLoginClose:p})})}),Object(a.jsx)(ie.a,{open:u,onClose:x,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(a.jsx)(l.a,{theme:we,children:Object(a.jsx)(Oe,{classes:t,signup:e.signup,handleSignupClose:x})})})]})},Ce=function(){var e=Object(r.useState)(localStorage.getItem("token")),t=Object(h.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(null),o=Object(h.a)(s,2),i=o[0],l=o[1],d=function(e){e.preventDefault(),fetch("https://stormy-savannah-56656.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.target[0].value,password:e.target[1].value})}).then((function(e){return e.json()})).then(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.auth){e.next=5;break}return e.next=3,setTimeout((function(){localStorage.setItem("token",t.token),l(t.user),c(localStorage.getItem("token"))}),0);case 3:e.next=6;break;case 5:alert(t.info);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},b=function(e){e.preventDefault();var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.target[0].value,password:e.target[1].value})};fetch("https://stormy-savannah-56656.herokuapp.com/users",t).then((function(e){return e.json()})).then(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.auth){e.next=5;break}return e.next=3,setTimeout((function(){localStorage.setItem("token",t.token),l(t.user),c(localStorage.getItem("token"))}),0);case 3:e.next=6;break;case 5:alert(t.info);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},m=function(e){c(e)},g=function(e){l(e)};return Object(r.useEffect)((function(){}),[i]),Object(a.jsx)(p.a,{children:Object(a.jsxs)(x.d,{children:[Object(a.jsx)(x.b,{exact:!0,path:"/KoolKhat/",render:function(){return n?Object(a.jsx)(x.a,{to:"/KoolKhat/khat"}):Object(a.jsx)(ke,{setToken:m,login:d,signup:b})}}),Object(a.jsx)(x.b,{exact:!0,path:"/KoolKhat/khat",render:function(){return n?Object(a.jsx)(xe,{setToken:m,currentUser:i,setCurrentUser:g}):Object(a.jsx)(x.a,{to:"/KoolKhat/"})}})]})})},Se=Object(i.a)({typography:{h3:{textAlign:"center"},h1:{textAlign:"center"},fontFamily:'"Segoe UI"'},palette:{primary:{main:"#2bbd7e"},secondary:{main:"#9fffe0"}},fontFamily:""});o.a.render(Object(a.jsxs)(l.a,{theme:Se,children:[Object(a.jsx)(d.a,{}),Object(a.jsx)(Ce,{}),Object(a.jsx)(d.a,{})]}),document.getElementById("root"))},96:function(e,t,n){},99:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.062dc4e8.chunk.js.map